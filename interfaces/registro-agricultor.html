<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bienvenido - Reg√≠strate con Nosotros</title>
    <link rel="stylesheet" href="styles-registro-agricultor.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Onest:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="form-container">
            <div class="header">
                <h1 class="title">BIENVENIDO</h1>
                <p class="subtitle">REG√çSTRATE CON NOSOTROS</p>
            </div>
            
            <form id="registroPersonal" class="form">
                <div class="input-group">
                    <label for="nombres">
                        <span class="icon">üë§</span>
                        NOMBRES
                    </label>
                    <input type="text" id="nombres" name="nombres" required>
                    <span class="error-message" id="nombresError"></span>
                </div>
                
                <div class="input-group">
                    <label for="apellidos">
                        <span class="icon">üë§</span>
                        APELLIDOS
                    </label>
                    <input type="text" id="apellidos" name="apellidos" required>
                    <span class="error-message" id="apellidosError"></span>
                </div>
                
                <div class="input-group codigo-group">
                    <label for="codigoAgricultor">
                        <span class="icon">üë§</span>
                        C√ìDIGO AGRICULTOR
                    </label>
                    <div class="codigo-container">
                        <input type="text" id="codigoAgricultor" name="codigoAgricultor" required>
                        <button type="button" id="buscarBtn" class="buscar-btn">
                            <span class="btn-text">BUSCAR</span>
                            <span class="btn-loader" id="buscarLoader"></span>
                        </button>
                    </div>
                    <span class="error-message" id="codigoAgricultorError"></span>
                </div>
                
                <div class="section-group">
                    <div class="section-header">
                        <span class="icon">üìç</span>
                        <span class="section-title">DIRECCI√ìN</span>
                    </div>
                    
                    <div class="nested-inputs">
                        <div class="input-group">
                            <label for="departamento">DEPARTAMENTO</label>
                            <select id="departamento" name="departamento" required>
                                <option value="">Seleccionar departamento</option>
                            </select>
                            <span class="error-message" id="departamentoError"></span>
                        </div>
                        
                        <div class="input-group">
                            <label for="provincia">PROVINCIA</label>
                            <select id="provincia" name="provincia" required disabled>
                                <option value="">Seleccionar provincia</option>
                            </select>
                            <span class="error-message" id="provinciaError"></span>
                        </div>
                        
                        <div class="input-group">
                            <label for="distrito">DISTRITO</label>
                            <select id="distrito" name="distrito" required disabled>
                                <option value="">Seleccionar distrito</option>
                            </select>
                            <span class="error-message" id="distritoError"></span>
                        </div>
                        
                        <div class="input-group">
                            <label for="direccion">DIRECCI√ìN</label>
                            <input type="text" id="direccion" name="direccion" required>
                            <span class="error-message" id="direccionError"></span>
                        </div>
                    </div>
                </div>
                
                <div class="section-group">
                    <div class="section-header">
                        <span class="icon">üìû</span>
                        <span class="section-title">N√öMERO DE CONTACTO</span>
                    </div>
                    
                    <div class="nested-inputs">
                        <div class="input-group">
                            <label for="numeroContacto">N√öMERO DE CONTACTO</label>
                            <input type="tel" id="numeroContacto" name="numeroContacto" required pattern="[0-9]{9}" maxlength="9">
                            <span class="error-message" id="numeroContactoError"></span>
                        </div>
                    </div>
                </div>
                
                <button type="submit" class="submit-btn" id="submitBtn">
                    <span class="btn-text">REGISTRAR MOLINO</span>
                    <span class="btn-loader" id="btnLoader"></span>
                </button>
            </form>
        </div>
    </div>

    <!-- Modal de confirmaci√≥n -->
    <div id="successModal" class="modal">
        <div class="modal-content">
            <div class="success-icon">‚úÖ</div>
            <h3>¬°Registro Exitoso!</h3>
            <p>Tu registro ha sido completado correctamente.</p>
            <button class="modal-btn" onclick="closeSuccessModal()">Continuar</button>
        </div>
    </div>

    <script>
        // Datos completos de ubicaciones del Per√∫ (mismo objeto que en la p√°gina anterior)
        const ubicaciones = {
            "amazonas": {
                "nombre": "Amazonas",
                "provincias": {
                    "chachapoyas": {
                        "nombre": "Chachapoyas",
                        "distritos": ["Chachapoyas", "Asunci√≥n", "Balsas", "Cheto", "Chiliqu√≠n", "Chuquibamba", "Granada", "Huancas", "La Jalca", "Leimebamba", "Levanto", "Magdalena", "Mariscal Castilla", "Molinopampa", "Montevideo", "Olleros", "Quinjalca", "San Francisco de Daguas", "San Isidro de Maino", "Soloco", "Sonche"]
                    },
                    "bagua": {
                        "nombre": "Bagua",
                        "distritos": ["Bagua", "Aramango", "Copallin", "El Parco", "Imaza", "La Peca"]
                    },
                    "bongara": {
                        "nombre": "Bongar√°",
                        "distritos": ["Jumbilla", "Chisquilla", "Churuja", "Corosha", "Cuispes", "Florida", "Jazan", "Recta", "San Carlos", "Shipasbamba", "Valera", "Yambrasbamba"]
                    },
                    "condorcanqui": {
                        "nombre": "Condorcanqui",
                        "distritos": ["Nieva", "El Cenepa", "R√≠o Santiago"]
                    },
                    "luya": {
                        "nombre": "Luya",
                        "distritos": ["Lamud", "Camporredondo", "Cocabamba", "Colcamar", "Conila", "Inguilpata", "Longuita", "Lonya Chico", "Lonya Grande", "Mar√≠a", "Ocalli", "Ocumal", "Pisuquia", "Providencia", "San Crist√≥bal", "San Francisco del Yeso", "San Jer√≥nimo", "San Juan de Lopecancha", "Santa Catalina", "Santo Tom√°s", "Tingo", "Trita"]
                    },
                    "rodriguez_de_mendoza": {
                        "nombre": "Rodr√≠guez de Mendoza",
                        "distritos": ["San Nicol√°s", "Chirimoto", "Cochamal", "Huambo", "Limabamba", "Longar", "Mariscal Benavides", "Milpuc", "Omia", "Santa Rosa", "Totora", "Vista Alegre"]
                    },
                    "utcubamba": {
                        "nombre": "Utcubamba",
                        "distritos": ["Bagua Grande", "Cajaruro", "Cumba", "El Milagro", "Jamalca", "Lonya Grande", "Yamon"]
                    }
                }
            },
            "ancash": {
                "nombre": "√Åncash",
                "provincias": {
                    "huaraz": {
                        "nombre": "Huaraz",
                        "distritos": ["Huaraz", "Cochabamba", "Colcabamba", "Huanchay", "Independencia", "Jangas", "La Libertad", "Olleros", "Pampas Grande", "Pariacoto", "Pira", "Tarica"]
                    },
                    "aija": {
                        "nombre": "Aija",
                        "distritos": ["Aija", "Coris", "Huacll√°n", "La Merced", "Succha"]
                    },
                    "antonio_raymondi": {
                        "nombre": "Antonio Raymondi",
                        "distritos": ["Llamell√≠n", "Aczo", "Chaccho", "Chingas", "Mirgas", "San Juan de Rontoy"]
                    },
                    "asuncion": {
                        "nombre": "Asunci√≥n",
                        "distritos": ["Chacas", "Acochaca"]
                    },
                    "bolognesi": {
                        "nombre": "Bolognesi",
                        "distritos": ["Chiqui√°n", "Abelardo Pardo Lezameta", "Antonio Raymondi", "Aquia", "Cajacay", "Canis", "Colquioc", "Huallanca", "Huasta", "Huayllacay√°n", "La Primavera", "Mangas", "Pacllon", "San Miguel de Corpanqui", "Ticllos"]
                    },
                    "carhuaz": {
                        "nombre": "Carhuaz",
                        "distritos": ["Carhuaz", "Acopampa", "Amashca", "Anta", "Ataquero", "Marcar√°", "Pariahuanca", "San Miguel de Aco", "Shilla", "Tinco", "Yungar"]
                    },
                    "carlos_fermin_fitzcarrald": {
                        "nombre": "Carlos Ferm√≠n Fitzcarrald",
                        "distritos": ["San Luis", "San Nicol√°s", "Yauya"]
                    },
                    "casma": {
                        "nombre": "Casma",
                        "distritos": ["Casma", "Buena Vista Alta", "Comandante Noel", "Yautan"]
                    },
                    "corongo": {
                        "nombre": "Corongo",
                        "distritos": ["Corongo", "Aco", "Bambas", "Cusca", "La Pampa", "Yanac", "Yup√°n"]
                    },
                    "huari": {
                        "nombre": "Huari",
                        "distritos": ["Huari", "Anra", "Cajay", "Chavin de Huantar", "Huacachi", "Huacchis", "Huachis", "Huantar", "Masin", "Paucas", "Ponto", "Rahuapampa", "Rapayan", "San Marcos", "San Pedro de Chana", "Uco"]
                    },
                    "huarmey": {
                        "nombre": "Huarmey",
                        "distritos": ["Huarmey", "Cochapeti", "Culebras", "Huayan", "Malvas"]
                    },
                    "huaylas": {
                        "nombre": "Huaylas",
                        "distritos": ["Caraz", "Huallanca", "Huata", "Huaylas", "Mato", "Pamparomas", "Pueblo Libre", "Santa Cruz", "Santo Toribio", "Yuracmarca"]
                    },
                    "mariscal_luzuriaga": {
                        "nombre": "Mariscal Luzuriaga",
                        "distritos": ["Piscobamba", "Casca", "Eleazar Guzm√°n Barron", "Fidel Olivas Escudero", "Llama", "Llumpa", "Lucma", "Musga"]
                    },
                    "ocros": {
                        "nombre": "Ocros",
                        "distritos": ["Ocros", "Acas", "Cajamarquilla", "Carhuapampa", "Cochas", "Congas", "Llipa", "San Crist√≥bal de Rajan", "San Pedro", "Santiago de Chilcas"]
                    },
                    "pallasca": {
                        "nombre": "Pallasca",
                        "distritos": ["Cabana", "Bolognesi", "Conchucos", "Huacaschuque", "Huandoval", "Lacabamba", "Llapo", "Pallasca", "Pampas", "Santa Rosa", "Tauca"]
                    },
                    "pomabamba": {
                        "nombre": "Pomabamba",
                        "distritos": ["Pomabamba", "Huayllan", "Parobamba", "Quinuabamba"]
                    },
                    "recuay": {
                        "nombre": "Recuay",
                        "distritos": ["Recuay", "Catac", "Cotaparaco", "Huayllapampa", "Llacllin", "Marca", "Pampas Chico", "Pararin", "Tapacocha", "Ticapampa"]
                    },
                    "santa": {
                        "nombre": "Santa",
                        "distritos": ["Chimbote", "C√°ceres del Per√∫", "Coishco", "Macate", "Moro", "Nepe√±a", "Samanco", "Santa", "Nuevo Chimbote"]
                    },
                    "sihuas": {
                        "nombre": "Sihuas",
                        "distritos": ["Sihuas", "Acobamba", "Alfonso Ugarte", "Cashapampa", "Chingalpo", "Huayllabamba", "Quiches", "Ragash", "San Juan", "Sicsibamba"]
                    },
                    "yungay": {
                        "nombre": "Yungay",
                        "distritos": ["Yungay", "Cascapara", "Mancos", "Matacoto", "Quillo", "Ranrahirca", "Shupluy", "Yanama"]
                    }
                }
            },
            "apurimac": {
                "nombre": "Apur√≠mac",
                "provincias": {
                    "abancay": {
                        "nombre": "Abancay",
                        "distritos": ["Abancay", "Chacoche", "Circa", "Curahuasi", "Huanipaca", "Lambrama", "Pichirhua", "San Pedro de Cachora", "Tamburco"]
                    },
                    "andahuaylas": {
                        "nombre": "Andahuaylas",
                        "distritos": ["Andahuaylas", "Andarapa", "Chiara", "Huancarama", "Huancaray", "Huayana", "Kishuara", "Pacobamba", "Pacucha", "Pampachiri", "Pomacocha", "San Antonio de Cachi", "San Jer√≥nimo", "San Miguel de Chaccrampa", "Santa Mar√≠a de Chicmo", "Talavera", "Tumay Huaraca", "Turpo", "Kaquiabamba", "Jos√© Mar√≠a Arguedas"]
                    },
                    "antabamba": {
                        "nombre": "Antabamba",
                        "distritos": ["Antabamba", "El Oro", "Huaquirca", "Juan Espinoza Medrano", "Oropesa", "Pachaconas", "Sabaino"]
                    },
                    "aymaraes": {
                        "nombre": "Aymaraes",
                        "distritos": ["Chalhuanca", "Capaya", "Caraybamba", "Chapimarca", "Colcabamba", "Cotaruse", "Ihuayllo", "Justo Apu Sahuaraura", "Lucre", "Pocohuanca", "San Juan de Chac√±a", "Sa√±ayca", "Soraya", "Tapairihua", "Tintay", "Toraya", "Yanaca"]
                    },
                    "chincheros": {
                        "nombre": "Chincheros",
                        "distritos": ["Chincheros", "Anco_Huallo", "Cocharcas", "Huaccana", "Ocobamba", "Ongoy", "Uranmarca", "Ranracancha"]
                    },
                    "cotabambas": {
                        "nombre": "Cotabambas",
                        "distritos": ["Tambobamba", "Cotabambas", "Coyllurqui", "Haquira", "Mara", "Challhuahuacho"]
                    },
                    "grau": {
                        "nombre": "Grau",
                        "distritos": ["Chuquibambilla", "Curasco", "Gamarra", "Huayllati", "Mamara", "Micaela Bastidas", "Pataypampa", "Progreso", "San Antonio", "Santa Rosa", "Turpay", "Vilcabamba", "Virundo", "Curpahuasi"]
                    }
                }
            },
            "arequipa": {
                "nombre": "Arequipa",
                "provincias": {
                    "arequipa": {
                        "nombre": "Arequipa",
                        "distritos": ["Arequipa", "Alto Selva Alegre", "Cayma", "Cerro Colorado", "Characato", "Chiguata", "Jacobo Hunter", "La Joya", "Mariano Melgar", "Miraflores", "Mollebaya", "Paucarpata", "Pocsi", "Polobaya", "Queque√±a", "Sabandia", "Sachaca", "San Juan de Siguas", "San Juan de Tarucani", "Santa Isabel de Siguas", "Santa Rita de Siguas", "Socabaya", "Tiabaya", "Uchumayo", "Vitor", "Yanahuara", "Yarabamba", "Yura", "Jos√© Luis Bustamante y Rivero"]
                    },
                    "camana": {
                        "nombre": "Caman√°",
                        "distritos": ["Caman√°", "Jos√© Mar√≠a Quimper", "Mariano Nicol√°s Valc√°rcel", "Mariscal C√°ceres", "Nicol√°s de Pi√©rola", "Oco√±a", "Quilca", "Samuel Pastor"]
                    },
                    "caraveli": {
                        "nombre": "Caravel√≠",
                        "distritos": ["Caravel√≠", "Acar√≠", "Atico", "Atiquipa", "Bella Uni√≥n", "Cahuacho", "Chala", "Chaparra", "Huanuhuanu", "Jaqui", "Lomas", "Quicacha", "Yauca"]
                    },
                    "castilla": {
                        "nombre": "Castilla",
                        "distritos": ["Aplao", "Andagua", "Ayo", "Chachas", "Chilcaymarca", "Choco", "Huancarqui", "Machaguay", "Orcopampa", "Pampacolca", "Tipan", "U√±√≥n", "Uraca", "Viraco"]
                    },
                    "caylloma": {
                        "nombre": "Caylloma",
                        "distritos": ["Chivay", "Achoma", "Cabanaconde", "Callalli", "Caylloma", "Coporaque", "Huambo", "Huanca", "Ichupampa", "Lari", "Lluta", "Maca", "Madrigal", "San Antonio de Chuca", "Sibayo", "Tapay", "Tisco", "Tuti", "Yanque", "Majes"]
                    },
                    "condesuyos": {
                        "nombre": "Condesuyos",
                        "distritos": ["Chuquibamba", "Andaray", "Cayarani", "Chichas", "Iray", "R√≠o Grande", "Salamanca", "Yanaquihua"]
                    },
                    "islay": {
                        "nombre": "Islay",
                        "distritos": ["Mollendo", "Cocachacra", "Dean Valdivia", "Islay", "Mej√≠a", "Punta de Bomb√≥n"]
                    },
                    "la_union": {
                        "nombre": "La Uni√≥n",
                        "distritos": ["Cotahuasi", "Alca", "Charcana", "Huaynacotas", "Pampamarca", "Puyca", "Quechualla", "Sayla", "Tauria", "Tomepampa", "Toro"]
                    }
                }
            },
            "ayacucho": {
                "nombre": "Ayacucho",
                "provincias": {
                    "huamanga": {
                        "nombre": "Huamanga",
                        "distritos": ["Ayacucho", "Acocro", "Acos Vinchos", "Carmen Alto", "Chiara", "Ocros", "Pacaycasa", "Quinua", "San Jos√© de Ticllas", "San Juan Bautista", "Santiago de Pischa", "Socos", "Tambillo", "Vinchos", "Jes√∫s Nazareno"]
                    },
                    "cangallo": {
                        "nombre": "Cangallo",
                        "distritos": ["Cangallo", "Chuschi", "Los Morochucos", "Mar√≠a Parado de Bellido", "Paras", "Totos"]
                    },
                    "huanca_sancos": {
                        "nombre": "Huanca Sancos",
                        "distritos": ["Sancos", "Carapo", "Sacsamarca", "Santiago de Lucanamarca"]
                    },
                    "huanta": {
                        "nombre": "Huanta",
                        "distritos": ["Huanta", "Ayahuanco", "Huamanguilla", "Iguain", "Luricocha", "Santillana", "Sivia", "Llochegua", "Canayre", "Uchuraccay", "Pucacolpa", "Chaca"]
                    },
                    "la_mar": {
                        "nombre": "La Mar",
                        "distritos": ["San Miguel", "Anco", "Ayna", "Chilcas", "Chungui", "Luis Carranza", "Santa Rosa", "Tambo", "Samugari", "Anchihuay"]
                    },
                    "lucanas": {
                        "nombre": "Lucanas",
                        "distritos": ["Puquio", "Aucara", "Cabana", "Carmen Salcedo", "Chavi√±a", "Chipao", "Huac-Huas", "Laramate", "Leoncio Prado", "Llauta", "Lucanas", "Oca√±a", "Otoca", "Saisa", "San Crist√≥bal", "San Juan", "San Pedro", "San Pedro de Palco", "Sancos", "Santa Ana de Huaycahuacho", "Santa Lucia"]
                    },
                    "parinacochas": {
                        "nombre": "Parinacochas",
                        "distritos": ["Coracora", "Chumpi", "Coronel Casta√±eda", "Pacapausa", "Pullo", "Puyusca", "San Francisco de Ravacayco", "Upahuacho"]
                    },
                    "paucar_del_sara_sara": {
                        "nombre": "Paucar del Sara Sara",
                        "distritos": ["Pausa", "Colta", "Corculla", "Lampa", "Marcabamba", "Oyolo", "Pararca", "San Javier de Alpabamba", "San Jos√© de Ushua", "Sara Sara"]
                    },
                    "sucre": {
                        "nombre": "Sucre",
                        "distritos": ["Querobamba", "Bel√©n", "Chalcos", "Chilcayoc", "Huaca√±a", "Morcolla", "Paico", "San Pedro de Larcay", "San Salvador de Quije", "Santiago de Paucaray", "Soras"]
                    },
                    "victor_fajardo": {
                        "nombre": "V√≠ctor Fajardo",
                        "distritos": ["Huancapi", "Alcamenca", "Apongo", "Asquipata", "Canaria", "Cayara", "Colca", "Huamanquiquia", "Huancaraylla", "Huaya", "Sarhua", "Vilcanchos"]
                    },
                    "vilcas_huaman": {
                        "nombre": "Vilcas Huam√°n",
                        "distritos": ["Vilcas Huam√°n", "Accomarca", "Carhuanca", "Concepci√≥n", "Huambalpa", "Independencia", "Saurama", "Vischongo"]
                    }
                }
            },
            "cajamarca": {
                "nombre": "Cajamarca",
                "provincias": {
                    "cajamarca": {
                        "nombre": "Cajamarca",
                        "distritos": ["Cajamarca", "Asunci√≥n", "Chetilla", "Cospan", "Enca√±ada", "Jes√∫s", "Llacanora", "Los Ba√±os del Inca", "Magdalena", "Matara", "Namora", "San Juan"]
                    },
                    "cajabamba": {
                        "nombre": "Cajabamba",
                        "distritos": ["Cajabamba", "Cachachi", "Condebamba", "Sitacocha"]
                    },
                    "celendin": {
                        "nombre": "Celend√≠n",
                        "distritos": ["Celend√≠n", "Chumuch", "Cortegana", "Huasmin", "Jorge Ch√°vez", "Jos√© G√°lvez", "Miguel Iglesias", "Oxamarca", "Sorochuco", "Sucre", "Utco", "La Libertad de Pall√°n"]
                    },
                    "chota": {
                        "nombre": "Chota",
                        "distritos": ["Chota", "Anguia", "Chadin", "Chiguirip", "Chimban", "Choropampa", "Cochabamba", "Conchan", "Huambos", "Lajas", "Llama", "Miracosta", "Paccha", "Pion", "Querocoto", "San Juan de Licupis", "Tacabamba", "Tocmoche", "Chalamarca"]
                    },
                    "contumaza": {
                        "nombre": "Contumaz√°",
                        "distritos": ["Contumaz√°", "Chilete", "Cupisnique", "Guzmango", "San Benito", "Santa Cruz de Toledo", "Tantarica", "Yonan"]
                    },
                    "cutervo": {
                        "nombre": "Cutervo",
                        "distritos": ["Cutervo", "Callayuc", "Choros", "Cujillo", "La Ramada", "Pimpingos", "Querocotillo", "San Andr√©s de Cutervo", "San Juan de Cutervo", "San Luis de Lucma", "Santa Cruz", "Santo Domingo de la Capilla", "Santo Tom√°s", "Socota", "Toribio Casanova"]
                    },
                    "hualgayoc": {
                        "nombre": "Hualgayoc",
                        "distritos": ["Bambamarca", "Chugur", "Hualgayoc"]
                    },
                    "jaen": {
                        "nombre": "Ja√©n",
                        "distritos": ["Ja√©n", "Bellavista", "Chontali", "Colasay", "Huabal", "Las Pirias", "Pomahuaca", "Pucar√°", "Sallique", "San Felipe", "San Jos√© del Alto", "Santa Rosa"]
                    },
                    "san_ignacio": {
                        "nombre": "San Ignacio",
                        "distritos": ["San Ignacio", "Chirinos", "Huarango", "La Coipa", "Namballe", "San Jos√© de Lourdes", "Tabaconas"]
                    },
                    "san_marcos": {
                        "nombre": "San Marcos",
                        "distritos": ["Pedro G√°lvez", "Chancay", "Eduardo Villanueva", "Gregorio Pita", "Ichocan", "Jos√© Manuel Quiroz", "Jos√© Sabogal"]
                    },
                    "san_miguel": {
                        "nombre": "San Miguel",
                        "distritos": ["San Miguel", "Bol√≠var", "Calquis", "Catilluc", "El Prado", "La Florida", "Llapa", "Nanchoc", "Niepos", "San Gregorio", "San Silvestre de Cochan", "Tongod", "Uni√≥n Agua Blanca"]
                    },
                    "san_pablo": {
                        "nombre": "San Pablo",
                        "distritos": ["San Pablo", "San Bernardino", "San Luis", "Tumbaden"]
                    },
                    "santa_cruz": {
                        "nombre": "Santa Cruz",
                        "distritos": ["Santa Cruz", "Andabamba", "Catache", "Chancayba√±os", "La Esperanza", "Ninabamba", "Pulan", "Saucepampa", "Sexi", "Uticyacu", "Yauyucan"]
                    }
                }
            },
            "callao": {
                "nombre": "Callao",
                "provincias": {
                    "callao": {
                        "nombre": "Callao",
                        "distritos": ["Callao", "Bellavista", "Carmen de la Legua Reynoso", "La Perla", "La Punta", "Ventanilla", "Mi Per√∫"]
                    }
                }
            },
            "cusco": {
                "nombre": "Cusco",
                "provincias": {
                    "cusco": {
                        "nombre": "Cusco",
                        "distritos": ["Cusco", "Ccorca", "Poroy", "San Jer√≥nimo", "San Sebasti√°n", "Santiago", "Saylla", "Wanchaq"]
                    },
                    "acomayo": {
                        "nombre": "Acomayo",
                        "distritos": ["Acomayo", "Acopia", "Acos", "Mosoc Llacta", "Pomacanchi", "Rondocan", "Sangarara"]
                    },
                    "anta": {
                        "nombre": "Anta",
                        "distritos": ["Anta", "Ancahuasi", "Cachimayo", "Chinchaypujio", "Huarocondo", "Limatambo", "Mollepata", "Pucyura", "Zurite"]
                    },
                    "calca": {
                        "nombre": "Calca",
                        "distritos": ["Calca", "Coya", "Lamay", "Lares", "Pisac", "San Salvador", "Taray", "Yanatile"]
                    },
                    "canas": {
                        "nombre": "Canas",
                        "distritos": ["Yanaoca", "Checca", "Kunturkanki", "Langui", "Layo", "Pampamarca", "Quehue", "Tupac Amaru"]
                    },
                    "canchis": {
                        "nombre": "Canchis",
                        "distritos": ["Sicuani", "Checacupe", "Combapata", "Marangani", "Pitumarca", "San Pablo", "San Pedro", "Tinta"]
                    },
                    "chumbivilcas": {
                        "nombre": "Chumbivilcas",
                        "distritos": ["Santo Tom√°s", "Capacmarca", "Chamaca", "Colquemarca", "Livitaca", "Llusco", "Qui√±ota", "Velille"]
                    },
                    "espinar": {
                        "nombre": "Espinar",
                        "distritos": ["Espinar", "Condoroma", "Coporaque", "Occoruro", "Pallpata", "Pichigua", "Suyckutambo", "Alto Pichigua"]
                    },
                    "la_convencion": {
                        "nombre": "La Convenci√≥n",
                        "distritos": ["Santa Ana", "Echarate", "Huayopata", "Maranura", "Ocobamba", "Quellouno", "Kimbiri", "Santa Teresa", "Vilcabamba", "Pichari", "Inkawasi", "Villa Virgen", "Villa Kintiarina", "Megantoni"]
                    },
                    "paruro": {
                        "nombre": "Paruro",
                        "distritos": ["Paruro", "Accha", "Ccapi", "Colcha", "Huanoquite", "Omacha", "Paccaritambo", "Pillpinto", "Yaurisque"]
                    },
                    "paucartambo": {
                        "nombre": "Paucartambo",
                        "distritos": ["Paucartambo", "Caicay", "Challabamba", "Colquepata", "Huancarani", "Kos√±ipata"]
                    },
                    "quispicanchi": {
                        "nombre": "Quispicanchi",
                        "distritos": ["Urcos", "Andahuaylillas", "Camanti", "Ccarhuayo", "Ccatca", "Cusipata", "Huaro", "Lucre", "Marcapata", "Ocongate", "Oropesa", "Quiquijana"]
                    },
                    "urubamba": {
                        "nombre": "Urubamba",
                        "distritos": ["Urubamba", "Chinchero", "Huayllabamba", "Machupicchu", "Maras", "Ollantaytambo", "Yucay"]
                    }
                }
            },
            "huancavelica": {
                "nombre": "Huancavelica",
                "provincias": {
                    "huancavelica": {
                        "nombre": "Huancavelica",
                        "distritos": ["Huancavelica", "Acobambilla", "Acoria", "Conayca", "Cuenca", "Huachocolpa", "Huayllahuara", "Izcuchaca", "Laria", "Manta", "Mariscal C√°ceres", "Moya", "Nuevo Occoro", "Palca", "Pilchaca", "Vilca", "Yauli", "Ascensi√≥n", "Huando"]
                    },
                    "acobamba": {
                        "nombre": "Acobamba",
                        "distritos": ["Acobamba", "Andabamba", "Anta", "Caja", "Marcas", "Paucara", "Pomacocha", "Rosario"]
                    },
                    "angaraes": {
                        "nombre": "Angaraes",
                        "distritos": ["Lircay", "Anchonga", "Callanmarca", "Ccochaccasa", "Chincho", "Congalla", "Huanca-Huanca", "Huayllay Grande", "Julcamarca", "San Antonio de Antaparco", "Santo Tom√°s de Pata", "Secclla"]
                    },
                    "castrovirreyna": {
                        "nombre": "Castrovirreyna",
                        "distritos": ["Castrovirreyna", "Arma", "Aurahua", "Capillas", "Chupamarca", "Cocas", "Huachos", "Huamatambo", "Mollepampa", "San Juan", "Santa Ana", "Tantara", "Ticrapo"]
                    },
                    "churcampa": {
                        "nombre": "Churcampa",
                        "distritos": ["Churcampa", "Anco", "Chinchihuasi", "El Carmen", "La Merced", "Locroja", "Paucarbamba", "San Miguel de Mayocc", "San Pedro de Coris", "Cosme"]
                    },
                    "huaytara": {
                        "nombre": "Huaytar√°",
                        "distritos": ["Huaytar√°", "Ayavi", "C√≥rdova", "Huayacundo Arma", "Laramarca", "Ocoyo", "Pilpichaca", "Querco", "Quito-Arma", "San Antonio de Cusicancha", "San Francisco de Sangayaico", "San Isidro", "Santiago de Chocorvos", "Santiago de Quirahuara", "Santo Domingo de Capillas", "Tambo"]
                    },
                    "tayacaja": {
                        "nombre": "Tayacaja",
                        "distritos": ["Pampas", "Acostambo", "Acraquia", "Ahuaycha", "Colcabamba", "Daniel Hern√°ndez", "Huachocolpa", "Huaribamba", "√ëahuimpuquio", "Pazos", "Quishuar", "Salcabamba", "Salcahuasi", "San Marcos de Rocchac", "Surcubamba", "Tintay Puncu"]
                    }
                }
            },
            "huanuco": {
                "nombre": "Hu√°nuco",
                "provincias": {
                    "huanuco": {
                        "nombre": "Hu√°nuco",
                        "distritos": ["Hu√°nuco", "Amarilis", "Chinchao", "Churubamba", "Margos", "Quisqui", "San Francisco de Cayran", "San Pedro de Chaulan", "Santa Mar√≠a del Valle", "Yarumayo", "Pillco Marca", "Yacus", "Jos√© Crespo y Castillo"]
                    },
                    "ambo": {
                        "nombre": "Ambo",
                        "distritos": ["Ambo", "Cayna", "Colpas", "Conchamarca", "Huacar", "San Francisco", "San Rafael", "Tomay Kichwa"]
                    },
                    "dos_de_mayo": {
                        "nombre": "Dos de Mayo",
                        "distritos": ["La Uni√≥n", "Chuquis", "Mar√≠as", "Pachas", "Quivilla", "Ripan", "Shunqui", "Sillapata", "Yanas"]
                    },
                    "huacaybamba": {
                        "nombre": "Huacaybamba",
                        "distritos": ["Huacaybamba", "Canchabamba", "Cochabamba", "Pinra"]
                    },
                    "huamalies": {
                        "nombre": "Huamal√≠es",
                        "distritos": ["Llata", "Arancay", "Chav√≠n de Pariarca", "Jacas Grande", "Jircan", "Miraflores", "Monz√≥n", "Punchao", "Pu√±os", "Singa", "Tantamayo"]
                    },
                    "leoncio_prado": {
                        "nombre": "Leoncio Prado",
                        "distritos": ["Rupa-Rupa", "Daniel Alom√≠as Robles", "Hermilio Valdiz√°n", "Jos√© Crespo y Castillo", "Luyando", "Mariano D√°maso Beraun", "Pucayacu", "Castillo Grande", "Pueblo Nuevo", "Santo Domingo de Anda"]
                    },
                    "mara√±on": {
                        "nombre": "Mara√±√≥n",
                        "distritos": ["Huacrachuco", "Cholon", "San Buenaventura"]
                    },
                    "pachitea": {
                        "nombre": "Pachitea",
                        "distritos": ["Panao", "Chaglla", "Molino", "Umari"]
                    },
                    "puerto_inca": {
                        "nombre": "Puerto Inca",
                        "distritos": ["Puerto Inca", "Codo del Pozuzo", "Honoria", "Tournavista", "Yuyapichis"]
                    },
                    "lauricocha": {
                        "nombre": "Lauricocha",
                        "distritos": ["Jes√∫s", "Ba√±os", "Jivia", "Queropalca", "Rondos", "San Francisco de As√≠s", "San Miguel de Cauri"]
                    },
                    "yarowilca": {
                        "nombre": "Yarowilca",
                        "distritos": ["Chavinillo", "Cahuac", "Chacabamba", "Aparicio Pomares", "Jacas Chico", "Obas", "Pampamarca", "Choras"]
                    }
                }
            },
            "ica": {
                "nombre": "Ica",
                "provincias": {
                    "ica": {
                        "nombre": "Ica",
                        "distritos": ["Ica", "La Tingui√±a", "Los Aquijes", "Ocucaje", "Pachacutec", "Parcona", "Pueblo Nuevo", "Salas", "San Jos√© de Los Molinos", "San Juan Bautista", "Santiago", "Subtanjalla", "Tate", "Yauca del Rosario"]
                    },
                    "chincha": {
                        "nombre": "Chincha",
                        "distritos": ["Chincha Alta", "Alto Lar√°n", "Chavin", "Chincha Baja", "El Carmen", "Grocio Prado", "Pueblo Nuevo", "San Juan de Yanac", "San Pedro de Huacarpana", "Sunampe", "Tambo de Mora"]
                    },
                    "nazca": {
                        "nombre": "Nazca",
                        "distritos": ["Nazca", "Changuillo", "El Ingenio", "Marcona", "Vista Alegre"]
                    },
                    "palpa": {
                        "nombre": "Palpa",
                        "distritos": ["Palpa", "Llipata", "R√≠o Grande", "Santa Cruz", "Tibillo"]
                    },
                    "pisco": {
                        "nombre": "Pisco",
                        "distritos": ["Pisco", "Huancano", "Humay", "Independencia", "Paracas", "San Andr√©s", "San Clemente", "T√∫pac Amaru Inca"]
                    }
                }
            },
            "junin": {
                "nombre": "Jun√≠n",
                "provincias": {
                    "huancayo": {
                        "nombre": "Huancayo",
                        "distritos": ["Huancayo", "Carhuacallanga", "Chacapampa", "Chicche", "Chilca", "Chongos Alto", "Chupuro", "Colca", "Cullhuas", "El Tambo", "Huacrapuquio", "Hualhuas", "Huancan", "Huasicancha", "Huayucachi", "Ingenio", "Pariahuanca", "Pilcomayo", "Pucara", "Quichuay", "Quilcas", "San Agust√≠n", "San Jer√≥nimo de Tunan", "Sa√±o", "Sapallanga", "Sicaya", "Santo Domingo de Acobamba", "Viques"]
                    },
                    "concepcion": {
                        "nombre": "Concepci√≥n",
                        "distritos": ["Concepci√≥n", "Aco", "Andamarca", "Chambara", "Cochas", "Comas", "Hero√≠nas Toledo", "Manzanares", "Mariscal Castilla", "Matahuasi", "Mito", "Nueve de Julio", "Orcotuna", "San Jos√© de Quero", "Santa Rosa de Ocopa"]
                    },
                    "chanchamayo": {
                        "nombre": "Chanchamayo",
                        "distritos": ["Chanchamayo", "Peren√©", "Pichanaqui", "San Luis de Shuaro", "San Ram√≥n", "Vitoc"]
                    },
                    "jauja": {
                        "nombre": "Jauja",
                        "distritos": ["Jauja", "Acolla", "Apata", "Ataura", "Canchayllo", "Curicaca", "El Mantaro", "Huamali", "Huaripampa", "Huertas", "Janjaillo", "Julcan", "Leonor Ord√≥√±ez", "Llocllapampa", "Marco", "Masma", "Masma Chicche", "Molinos", "Monobamba", "Muqui", "Muquiyauyo", "Paca", "Paccha", "Pancan", "Parco", "Pomacancha", "Ricran", "San Lorenzo", "San Pedro de Chunan", "Sausa", "Sincos", "Tunan Marca", "Yauli", "Yauyos"]
                    },
                    "junin": {
                        "nombre": "Jun√≠n",
                        "distritos": ["Jun√≠n", "Carhuamayo", "Ondores", "Ulcumayo"]
                    },
                    "satipo": {
                        "nombre": "Satipo",
                        "distritos": ["Satipo", "Coviriali", "Llaylla", "Mazamari", "Pampa Hermosa", "Pangoa", "R√≠o Negro", "R√≠o Tambo", "Vizcatan del Ene"]
                    },
                    "tarma": {
                        "nombre": "Tarma",
                        "distritos": ["Tarma", "Acobamba", "Huaricolca", "Huasahuasi", "La Uni√≥n", "Palca", "Palcamayo", "San Pedro de Cajas", "Tapo"]
                    },
                    "yauli": {
                        "nombre": "Yauli",
                        "distritos": ["La Oroya", "Chacapalpa", "Huay-Huay", "Marcapomacocha", "Morococha", "Paccha", "Santa B√°rbara de Carhuacayan", "Santa Rosa de Sacco", "Suitucancha", "Yauli"]
                    },
                    "chupaca": {
                        "nombre": "Chupaca",
                        "distritos": ["Chupaca", "Ahuac", "Chongos Bajo", "Huachac", "Huamancaca Chico", "San Juan de Iscos", "San Juan de Jarpa", "Tres de Diciembre", "Yanacancha"]
                    }
                }
            },
            "la_libertad": {
                "nombre": "La Libertad",
                "provincias": {
                    "trujillo": {
                        "nombre": "Trujillo",
                        "distritos": ["Trujillo", "El Porvenir", "Florencia de Mora", "Huanchaco", "La Esperanza", "Laredo", "Moche", "Poroto", "Salaverry", "Simbal", "V√≠ctor Larco Herrera"]
                    },
                    "ascope": {
                        "nombre": "Ascope",
                        "distritos": ["Ascope", "Chicama", "Chocope", "Magdalena de Cao", "Paij√°n", "R√°zuri", "Santiago de Cao", "Casa Grande"]
                    },
                    "bolivar": {
                        "nombre": "Bol√≠var",
                        "distritos": ["Bol√≠var", "Bambamarca", "Condormarca", "Longotea", "Uchumarca", "Ucuncha"]
                    },
                    "chepen": {
                        "nombre": "Chep√©n",
                        "distritos": ["Chep√©n", "Pacanga", "Pueblo Nuevo"]
                    },
                    "julcan": {
                        "nombre": "Julc√°n",
                        "distritos": ["Julc√°n", "Calamarca", "Carabamba", "Huaso"]
                    },
                    "otuzco": {
                        "nombre": "Otuzco",
                        "distritos": ["Otuzco", "Agallpampa", "Charat", "Huaranchal", "La Cuesta", "Mache", "Paranday", "Salpo", "Sinsicap", "Usquil"]
                    },
                    "pacasmayo": {
                        "nombre": "Pacasmayo",
                        "distritos": ["San Pedro de Lloc", "Guadalupe", "Jequetepeque", "Pacasmayo", "San Jos√©"]
                    },
                    "pataz": {
                        "nombre": "Pataz",
                        "distritos": ["Tayabamba", "Buldibuyo", "Chillia", "Huancaspata", "Huaylillas", "Huayo", "Ong√≥n", "Parcoy", "Pataz", "P√≠as", "Santiago de Challas", "Taurija", "Urpay"]
                    },
                    "sanchez_carrion": {
                        "nombre": "S√°nchez Carri√≥n",
                        "distritos": ["Huamachuco", "Chugay", "Cochorco", "Curgos", "Marcabal", "Sanagoran", "Sarin", "Sartimbamba"]
                    },
                    "santiago_de_chuco": {
                        "nombre": "Santiago de Chuco",
                        "distritos": ["Santiago de Chuco", "Angasmarca", "Cachicadan", "Mollebamba", "Mollepata", "Quiruvilca", "Santa Cruz de Chuca", "Sitabamba"]
                    },
                    "gran_chimu": {
                        "nombre": "Gran Chim√∫",
                        "distritos": ["Cascas", "Lucma", "Marmot", "Sayapullo"]
                    },
                    "viru": {
                        "nombre": "Vir√∫",
                        "distritos": ["Vir√∫", "Chao", "Guadalupito"]
                    }
                }
            },
            "lambayeque": {
                "nombre": "Lambayeque",
                "provincias": {
                    "chiclayo": {
                        "nombre": "Chiclayo",
                        "distritos": ["Chiclayo", "Chongoyape", "Eten", "Eten Puerto", "Jos√© Leonardo Ortiz", "La Victoria", "Lagunas", "Monsef√∫", "Nueva Arica", "Oyot√∫n", "Picsi", "Pimentel", "Reque", "Santa Rosa", "Sa√±a", "Cayalt√≠", "P√°tapo", "Pomalca", "Pucal√°", "Tum√°n"]
                    },
                    "ferre√±afe": {
                        "nombre": "Ferre√±afe",
                        "distritos": ["Ferre√±afe", "Ca√±aris", "Incahuasi", "Manuel Antonio Mesones Muro", "Pitipo", "Pueblo Nuevo"]
                    },
                    "lambayeque": {
                        "nombre": "Lambayeque",
                        "distritos": ["Lambayeque", "Ch√≥chope", "Illimo", "Jayanca", "Mochumi", "M√≥rrope", "Motupe", "Olmos", "Pacora", "Salas", "San Jos√©", "T√∫cume"]
                    }
                }
            },
            "lima": {
                "nombre": "Lima",
                "provincias": {
                    "lima": {
                        "nombre": "Lima",
                        "distritos": ["Lima", "Anc√≥n", "Ate", "Barranco", "Bre√±a", "Carabayllo", "Chaclacayo", "Chorrillos", "Cieneguilla", "Comas", "El Agustino", "Independencia", "Jes√∫s Mar√≠a", "La Molina", "La Victoria", "Lince", "Los Olivos", "Lurigancho", "Lur√≠n", "Magdalena del Mar", "Miraflores", "Pachac√°mac", "Pucusana", "Pueblo Libre", "Puente Piedra", "Punta Hermosa", "Punta Negra", "R√≠mac", "San Bartolo", "San Borja", "San Isidro", "San Juan de Lurigancho", "San Juan de Miraflores", "San Luis", "San Mart√≠n de Porres", "San Miguel", "Santa Anita", "Santa Mar√≠a del Mar", "Santa Rosa", "Santiago de Surco", "Surquillo", "Villa El Salvador", "Villa Mar√≠a del Triunfo"]
                    },
                    "barranca": {
                        "nombre": "Barranca",
                        "distritos": ["Barranca", "Paramonga", "Pativilca", "Supe", "Supe Puerto"]
                    },
                    "cajatambo": {
                        "nombre": "Cajatambo",
                        "distritos": ["Cajatambo", "Copa", "Gorgor", "Huancapon", "Manas"]
                    },
                    "canta": {
                        "nombre": "Canta",
                        "distritos": ["Canta", "Arahuay", "Huamantanga", "Huaros", "Lachaqui", "San Buenaventura", "Santa Rosa de Quives"]
                    },
                    "ca√±ete": {
                        "nombre": "Ca√±ete",
                        "distritos": ["San Vicente de Ca√±ete", "Asia", "Calango", "Cerro Azul", "Chilca", "Coayllo", "Imperial", "Lunahuan√°", "Mala", "Nuevo Imperial", "Pacar√°n", "Quilman√°", "San Antonio", "San Luis", "Santa Cruz de Flores", "Z√∫√±iga"]
                    },
                    "huaral": {
                        "nombre": "Huaral",
                        "distritos": ["Huaral", "Atavillos Alto", "Atavillos Bajo", "Aucallama", "Chancay", "Ihuar√≠", "Lampi√°n", "Pacaraos", "San Miguel de Acos", "Santa Cruz de Andamarca", "Sumbilca", "Veintisiete de Noviembre"]
                    },
                    "huarochiri": {
                        "nombre": "Huarochir√≠",
                        "distritos": ["Matucana", "Antioquia", "Callahuanca", "Carampoma", "Chicla", "Cuenca", "Huachupampa", "Huanza", "Huarochir√≠", "Lahuaytambo", "Langa", "Laraos", "Mariatana", "Ricardo Palma", "San Andr√©s de Tupicocha", "San Antonio", "San Bartolom√©", "San Dami√°n", "San Juan de Iris", "San Juan de Tantaranche", "San Lorenzo de Quinti", "San Mateo", "San Mateo de Otao", "San Pedro de Casta", "San Pedro de Huancayre", "Sangallaya", "Santa Cruz de Cocachacra", "Santa Eulalia", "Santiago de Anchucaya", "Santiago de Tuna", "Santo Domingo de los Olleros", "Surco"]
                    },
                    "huaura": {
                        "nombre": "Huaura",
                        "distritos": ["Huacho", "√Åmbar", "Caleta de Carqu√≠n", "Checras", "Hualmay", "Huaura", "Leoncio Prado", "Paccho", "Santa Leonor", "Santa Mar√≠a", "Say√°n", "Vegueta"]
                    },
                    "oyon": {
                        "nombre": "Oy√≥n",
                        "distritos": ["Oy√≥n", "Andajes", "Caujul", "Cochamarca", "Navan", "Pachangara"]
                    },
                    "yauyos": {
                        "nombre": "Yauyos",
                        "distritos": ["Yauyos", "Alis", "Ayauca", "Ayaviri", "Az√°ngaro", "Cacra", "Carania", "Catahuasi", "Chocos", "Cochas", "Colonia", "Hongos", "Huampara", "Huancaya", "Huangascar", "Huant√°n", "Hua√±ec", "Laraos", "Lincha", "Madean", "Miraflores", "Omas", "Putinza", "Quinches", "Quinocay", "San Joaqu√≠n", "San Pedro de Pilas", "Tanta", "Tauripampa", "Tom√°s", "Tupe", "Vi√±ac", "Vitis"]
                    }
                }
            },
            "loreto": {
                "nombre": "Loreto",
                "provincias": {
                    "maynas": {
                        "nombre": "Maynas",
                        "distritos": ["Iquitos", "Alto Nanay", "Fernando Lores", "Indiana", "Las Amazonas", "Mazan", "Napo", "Punchana", "Torres Causana", "Bel√©n", "San Juan Bautista"]
                    },
                    "alto_amazonas": {
                        "nombre": "Alto Amazonas",
                        "distritos": ["Yurimaguas", "Balsapuerto", "Jeberos", "Lagunas", "Santa Cruz", "Teniente C√©sar L√≥pez Rojas"]
                    },
                    "loreto": {
                        "nombre": "Loreto",
                        "distritos": ["Nauta", "Parinari", "Tigre", "Trompeteros", "Urarinas"]
                    },
                    "mariscal_ramon_castilla": {
                        "nombre": "Mariscal Ram√≥n Castilla",
                        "distritos": ["Ram√≥n Castilla", "Pebas", "Yavari", "San Pablo"]
                    },
                    "requena": {
                        "nombre": "Requena",
                        "distritos": ["Requena", "Alto Tapiche", "Capelo", "Emilio San Mart√≠n", "Maquia", "Puinahua", "Saquena", "Soplin", "Tapiche", "Jenaro Herrera", "Yaquerana"]
                    },
                    "ucayali": {
                        "nombre": "Ucayali",
                        "distritos": ["Contamana", "Inahuaya", "Padre M√°rquez", "Pampa Hermosa", "Sarayacu", "Vargas Guerra"]
                    },
                    "datem_del_mara√±on": {
                        "nombre": "Datem del Mara√±√≥n",
                        "distritos": ["Barranca", "Cahuapanas", "Manseriche", "Morona", "Pastaza", "Andoas"]
                    },
                    "putumayo": {
                        "nombre": "Putumayo",
                        "distritos": ["Putumayo", "Rosa Panduro", "Teniente Manuel Clavero", "Yaguas"]
                    }
                }
            },
            "madre_de_dios": {
                "nombre": "Madre de Dios",
                "provincias": {
                    "tambopata": {
                        "nombre": "Tambopata",
                        "distritos": ["Tambopata", "Inambari", "Las Piedras", "Laberinto"]
                    },
                    "manu": {
                        "nombre": "Manu",
                        "distritos": ["Manu", "Fitzcarrald", "Madre de Dios", "Huepetuhe"]
                    },
                    "tahuamanu": {
                        "nombre": "Tahuamanu",
                        "distritos": ["I√±apari", "Iberia", "Tahuamanu"]
                    }
                }
            },
            "moquegua": {
                "nombre": "Moquegua",
                "provincias": {
                    "mariscal_nieto": {
                        "nombre": "Mariscal Nieto",
                        "distritos": ["Moquegua", "Carumas", "Cuchumbaya", "Samegua", "San Crist√≥bal", "Torata"]
                    },
                    "general_sanchez_cerro": {
                        "nombre": "General S√°nchez Cerro",
                        "distritos": ["Omate", "Chojata", "Coalaque", "Ichu√±a", "La Capilla", "Lloque", "Matalaque", "Puquina", "Quinistaquillas", "Ubinas", "Yunga"]
                    },
                    "ilo": {
                        "nombre": "Ilo",
                        "distritos": ["Ilo", "El Algarrobal", "Pacocha"]
                    }
                }
            },
            "pasco": {
                "nombre": "Pasco",
                "provincias": {
                    "pasco": {
                        "nombre": "Pasco",
                        "distritos": ["Chaupimarca", "Huachon", "Huariaca", "Huayllay", "Ninacaca", "Pallanchacra", "Paucartambo", "San Francisco de As√≠s de Yarusyacan", "Simon Bol√≠var", "Ticlacayan", "Tinyahuarco", "Vicco", "Yanacancha"]
                    },
                    "daniel_alcides_carrion": {
                        "nombre": "Daniel Alcides Carri√≥n",
                        "distritos": ["Yanahuanca", "Chacayan", "Goyllarisquizga", "Paucar", "San Pedro de Pillao", "Santa Ana de Tusi", "Tapuc", "Vilcabamba"]
                    },
                    "oxapampa": {
                        "nombre": "Oxapampa",
                        "distritos": ["Oxapampa", "Chontabamba", "Huancabamba", "Palcazu", "Pozuzo", "Puerto Berm√∫dez", "Villa Rica", "Constituci√≥n"]
                    }
                }
            },
            "piura": {
                "nombre": "Piura",
                "provincias": {
                    "piura": {
                        "nombre": "Piura",
                        "distritos": ["Piura", "Castilla", "Catacaos", "Cura Mori", "El Tall√°n", "La Arena", "La Uni√≥n", "Las Lomas", "Tambo Grande", "Veintiseis de Octubre"]
                    },
                    "ayabaca": {
                        "nombre": "Ayabaca",
                        "distritos": ["Ayabaca", "Frias", "Jilili", "Lagunas", "Montero", "Pacaipampa", "Paimas", "Sapillica", "Sicchez", "Suyo"]
                    },
                    "huancabamba": {
                        "nombre": "Huancabamba",
                        "distritos": ["Huancabamba", "Canchaque", "El Carmen de la Frontera", "Huarmaca", "Lalaquiz", "San Miguel de El Faique", "Sondor", "Sondorillo"]
                    },
                    "morropon": {
                        "nombre": "Morrop√≥n",
                        "distritos": ["Chulucanas", "Buenos Aires", "Chalaco", "La Matanza", "Morrop√≥n", "Salitral", "San Juan de Bigote", "Santa Catalina de Mossa", "Santo Domingo", "Yamango"]
                    },
                    "paita": {
                        "nombre": "Paita",
                        "distritos": ["Paita", "Amotape", "Arenal", "Colan", "La Huaca", "Tamarindo", "Vichayal"]
                    },
                    "sullana": {
                        "nombre": "Sullana",
                        "distritos": ["Sullana", "Bellavista", "Ignacio Escudero", "Lancones", "Marcavelica", "Miguel Checa", "Querecotillo", "Salitral"]
                    },
                    "talara": {
                        "nombre": "Talara",
                        "distritos": ["Pari√±as", "El Alto", "La Brea", "Lobitos", "Los √ìrganos", "M√°ncora"]
                    },
                    "sechura": {
                        "nombre": "Sechura",
                        "distritos": ["Sechura", "Bellavista de la Uni√≥n", "Bernal", "Cristo Nos Valga", "Vice", "Rinconada Llicuar"]
                    }
                }
            },
            "puno": {
                "nombre": "Puno",
                "provincias": {
                    "puno": {
                        "nombre": "Puno",
                        "distritos": ["Puno", "Acora", "Amantani", "Atuncolla", "Capachica", "Chucuito", "Coata", "Huata", "Ma√±azo", "Paucarcolla", "Pichacani", "Plateria", "San Antonio", "Tiquillaca", "Vilque"]
                    },
                    "azangaro": {
                        "nombre": "Az√°ngaro",
                        "distritos": ["Az√°ngaro", "Achaya", "Arapa", "Asillo", "Caminaca", "Chupa", "Jos√© Domingo Choquehuanca", "Mu√±ani", "Potoni", "Saman", "San Anton", "San Jos√©", "San Juan de Salinas", "Santiago de Pupuja", "Tirapata"]
                    },
                    "carabaya": {
                        "nombre": "Carabaya",
                        "distritos": ["Macusani", "Ajoyani", "Ayapata", "Coasa", "Corani", "Crucero", "Ituata", "Ollachea", "San Gaban", "Usicayos"]
                    },
                    "chucuito": {
                        "nombre": "Chucuito",
                        "distritos": ["Juli", "Desaguadero", "Huacullani", "Kelluyo", "Pisacoma", "Pomata", "Zepita"]
                    },
                    "el_collao": {
                        "nombre": "El Collao",
                        "distritos": ["Ilave", "Capazo", "Pilcuyo", "Santa Rosa", "Conduriri"]
                    },
                    "huancane": {
                        "nombre": "Huancan√©",
                        "distritos": ["Huancan√©", "Cojata", "Huatasani", "Inchupalla", "Pusi", "Rosaspata", "Taraco", "Vilque Chico"]
                    },
                    "lampa": {
                        "nombre": "Lampa",
                        "distritos": ["Lampa", "Cabanilla", "Calapuja", "Nicasio", "Ocuviri", "Palca", "Paratia", "Pucara", "Santa Lucia", "Vilavila"]
                    },
                    "melgar": {
                        "nombre": "Melgar",
                        "distritos": ["Ayaviri", "Antauta", "Cupi", "Llalli", "Macari", "Nu√±oa", "Orurillo", "Santa Rosa", "Umachiri"]
                    },
                    "moho": {
                        "nombre": "Moho",
                        "distritos": ["Moho", "Conima", "Huayrapata", "Tilali"]
                    },
                    "san_antonio_de_putina": {
                        "nombre": "San Antonio de Putina",
                        "distritos": ["Putina", "Ananea", "Pedro Vilca Apaza", "Quilcapuncu", "Sina"]
                    },
                    "san_roman": {
                        "nombre": "San Rom√°n",
                        "distritos": ["Juliaca", "Cabana", "Cabanillas", "Caracoto"]
                    },
                    "sandia": {
                        "nombre": "Sandia",
                        "distritos": ["Sandia", "Cuyocuyo", "Limbani", "Patambuco", "Phara", "Quiaca", "San Juan del Oro", "Yanahuaya", "Alto Inambari", "San Pedro de Putina Punco"]
                    },
                    "yunguyo": {
                        "nombre": "Yunguyo",
                        "distritos": ["Yunguyo", "Anapia", "Copani", "Cuturapi", "Ollaraya", "Tinicachi", "Unicachi"]
                    }
                }
            },
            "san_martin": {
                "nombre": "San Mart√≠n",
                "provincias": {
                    "moyobamba": {
                        "nombre": "Moyobamba",
                        "distritos": ["Moyobamba", "Calzada", "Habana", "Jepelacio", "Soritor", "Yantalo"]
                    },
                    "bellavista": {
                        "nombre": "Bellavista",
                        "distritos": ["Bellavista", "Alto Biavo", "Bajo Biavo", "Huallaga", "San Pablo", "San Rafael"]
                    },
                    "el_dorado": {
                        "nombre": "El Dorado",
                        "distritos": ["Saposoa", "Alto Saposoa", "El Eslab√≥n", "Piscoyacu", "Sacanche", "Tingo de Saposoa"]
                    },
                    "huallaga": {
                        "nombre": "Huallaga",
                        "distritos": ["Saposoa", "Alto Saposoa", "El Eslab√≥n", "Piscoyacu", "Sacanche", "Tingo de Saposoa"]
                    },
                    "lamas": {
                        "nombre": "Lamas",
                        "distritos": ["Lamas", "Alonso de Alvarado", "Barranquita", "Caynarachi", "Cu√±umbuqui", "Pinto Recodo", "Rumisapa", "San Roque de Cumbaza", "Shanao", "Tabalosos", "Zapatero"]
                    },
                    "mariscal_caceres": {
                        "nombre": "Mariscal C√°ceres",
                        "distritos": ["Juanjui", "Campanilla", "Huicungo", "Pachiza", "Pajarillo"]
                    },
                    "picota": {
                        "nombre": "Picota",
                        "distritos": ["Picota", "Buenos Aires", "Caspisapa", "Pilluana", "Pucacaca", "San Crist√≥bal", "San Hilari√≥n", "Shamboyacu", "Tingo de Ponasa", "Tres Unidos"]
                    },
                    "rioja": {
                        "nombre": "Rioja",
                        "distritos": ["Rioja", "Awajun", "El√≠as Soplin Vargas", "Nueva Cajamarca", "Pardo Miguel", "Posic", "San Fernando", "Yorongos", "Yuracyacu"]
                    },
                    "san_martin": {
                        "nombre": "San Mart√≠n",
                        "distritos": ["Tarapoto", "Alberto Leveau", "Cacatachi", "Chazuta", "Chipurana", "El Porvenir", "Huimbayoc", "Juan Guerra", "La Banda de Shilcayo", "Morales", "Papaplaya", "San Antonio", "Sauce", "Shapaja"]
                    },
                    "tocache": {
                        "nombre": "Tocache",
                        "distritos": ["Tocache", "Nuevo Progreso", "Polvora", "Shunte", "Uchiza"]
                    }
                }
            },
            "tacna": {
                "nombre": "Tacna",
                "provincias": {
                    "tacna": {
                        "nombre": "Tacna",
                        "distritos": ["Tacna", "Alto de la Alianza", "Calana", "Ciudad Nueva", "Inclan", "Pachia", "Palca", "Pocollay", "Sama", "Coronel Gregorio Albarrac√≠n Lanchipa"]
                    },
                    "candarave": {
                        "nombre": "Candarave",
                        "distritos": ["Candarave", "Cairani", "Camilaca", "Curibaya", "Huanuara", "Quilahuani"]
                    },
                    "jorge_basadre": {
                        "nombre": "Jorge Basadre",
                        "distritos": ["Locumba", "Ilabaya", "Ite"]
                    },
                    "tarata": {
                        "nombre": "Tarata",
                        "distritos": ["Tarata", "Chucatamani", "Estique", "Estique-Pampa", "Sitajara", "Susapaya", "Tarucachi", "Ticaco"]
                    }
                }
            },
            "tumbes": {
                "nombre": "Tumbes",
                "provincias": {
                    "tumbes": {
                        "nombre": "Tumbes",
                        "distritos": ["Tumbes", "Corrales", "La Cruz", "Pampas de Hospital", "San Jacinto", "San Juan de la Virgen"]
                    },
                    "contralmirante_villar": {
                        "nombre": "Contralmirante Villar",
                        "distritos": ["Zorritos", "Casitas", "Canoas de Punta Sal"]
                    },
                    "zarumilla": {
                        "nombre": "Zarumilla",
                        "distritos": ["Zarumilla", "Aguas Verdes", "Matapalo", "Papayal"]
                    }
                }
            },
            "ucayali": {
                "nombre": "Ucayali",
                "provincias": {
                    "coronel_portillo": {
                        "nombre": "Coronel Portillo",
                        "distritos": ["Caller√≠a", "Campoverde", "Iparia", "Masisea", "Yarinacocha", "Nueva Requena", "Manantay"]
                    },
                    "atalaya": {
                        "nombre": "Atalaya",
                        "distritos": ["Raymondi", "Sepahua", "Tahuania", "Yurua"]
                    },
                    "padre_abad": {
                        "nombre": "Padre Abad",
                        "distritos": ["Padre Abad", "Irazola", "Curimana", "Neshuya"]
                    },
                    "purus": {
                        "nombre": "Pur√∫s",
                        "distritos": ["Pur√∫s"]
                    }
                }
            }
        };

        // Variables globales
        let formData = {};
        let isSubmitting = false;
        let isBuscarLoading = false;

        // Inicializaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            initializeForm();
            setupValidation();
            setupLocationSelects();
            populateDepartamentos();
            setupBuscarButton();
            animateElements();
        });

        // Poblar departamentos al cargar la p√°gina
        function populateDepartamentos() {
            const departamentoSelect = document.getElementById('departamento');
            
            Object.keys(ubicaciones).forEach(key => {
                const option = document.createElement('option');
                option.value = key;
                option.textContent = ubicaciones[key].nombre;
                departamentoSelect.appendChild(option);
            });
        }

        // Inicializar formulario
        function initializeForm() {
            const form = document.getElementById('registroPersonal');
            form.addEventListener('submit', handleSubmit);
        }

        // Configurar validaciones en tiempo real
        function setupValidation() {
            const inputs = document.querySelectorAll('input, select');
            inputs.forEach(input => {
                input.addEventListener('blur', () => validateField(input));
                input.addEventListener('input', () => clearError(input));
            });

            // Validaci√≥n especial para nombres y apellidos (solo letras y espacios)
            const nombresInput = document.getElementById('nombres');
            const apellidosInput = document.getElementById('apellidos');
            
            [nombresInput, apellidosInput].forEach(input => {
                input.addEventListener('input', function() {
                    // Permitir solo letras, espacios y algunos caracteres especiales (√±, tildes)
                    this.value = this.value.replace(/[^a-zA-Z√°√©√≠√≥√∫√Å√â√ç√ì√ö√±√ë√º√ú\s]/g, '');
                });
            });

            // Validaci√≥n para c√≥digo agricultor (alfanum√©rico)
            const codigoInput = document.getElementById('codigoAgricultor');
            codigoInput.addEventListener('input', function() {
                this.value = this.value.replace(/[^a-zA-Z0-9]/g, '').toUpperCase();
            });

            // Validaci√≥n para tel√©fono (solo n√∫meros)
            const telefonoInput = document.getElementById('numeroContacto');
            telefonoInput.addEventListener('input', function() {
                this.value = this.value.replace(/[^0-9]/g, '');
            });
        }

        // Configurar selects de ubicaci√≥n
        function setupLocationSelects() {
            const departamentoSelect = document.getElementById('departamento');
            const provinciaSelect = document.getElementById('provincia');
            const distritoSelect = document.getElementById('distrito');

            departamentoSelect.addEventListener('change', function() {
                const departamento = this.value;
                populateProvincias(departamento);
                resetSelect(distritoSelect, 'distrito');
            });

            provinciaSelect.addEventListener('change', function() {
                const departamento = departamentoSelect.value;
                const provincia = this.value;
                populateDistritos(departamento, provincia);
            });
        }

        // Poblar provincias
        function populateProvincias(departamento) {
            const provinciaSelect = document.getElementById('provincia');
            const distritoSelect = document.getElementById('distrito');
            
            resetSelect(provinciaSelect, 'provincia');
            resetSelect(distritoSelect, 'distrito');

            if (departamento && ubicaciones[departamento]) {
                provinciaSelect.disabled = false;
                const provincias = Object.keys(ubicaciones[departamento].provincias);
                
                provincias.forEach(provinciaKey => {
                    const option = document.createElement('option');
                    option.value = provinciaKey;
                    option.textContent = ubicaciones[departamento].provincias[provinciaKey].nombre;
                    provinciaSelect.appendChild(option);
                });
            }
        }

        // Poblar distritos
        function populateDistritos(departamento, provincia) {
            const distritoSelect = document.getElementById('distrito');
            resetSelect(distritoSelect, 'distrito');

            if (departamento && provincia && ubicaciones[departamento]?.provincias[provincia]) {
                distritoSelect.disabled = false;
                const distritos = ubicaciones[departamento].provincias[provincia].distritos;
                
                distritos.forEach(distrito => {
                    const option = document.createElement('option');
                    option.value = distrito.toLowerCase().replace(/\s+/g, '_');
                    option.textContent = distrito;
                    distritoSelect.appendChild(option);
                });
            }
        }

        // Resetear select
        function resetSelect(selectElement, type) {
            selectElement.innerHTML = `<option value="">Seleccionar ${type}</option>`;
            selectElement.disabled = true;
        }

        // Configurar bot√≥n de buscar
        function setupBuscarButton() {
            const buscarBtn = document.getElementById('buscarBtn');
            buscarBtn.addEventListener('click', handleBuscarCodigo);
        }

        // Manejar b√∫squeda de c√≥digo
        async function handleBuscarCodigo() {
            const codigoInput = document.getElementById('codigoAgricultor');
            const codigo = codigoInput.value.trim();

            if (!codigo) {
                showNotification('Ingrese un c√≥digo de agricultor', 'warning');
                return;
            }

            if (codigo.length < 6) {
                showNotification('El c√≥digo debe tener al menos 6 caracteres', 'warning');
                return;
            }

            setBuscarLoading(true);

            try {
                // Simular b√∫squeda en base de datos
                await simulateBuscarCodigo(codigo);
                
                // Simulaci√≥n de datos encontrados
                const isFound = Math.random() > 0.3; // 70% de probabilidad de encontrar
                
                if (isFound) {
                    // Autocompletar datos simulados
                    const datosSimulados = {
                        nombres: ['Juan Carlos', 'Mar√≠a Elena', 'Pedro Jos√©', 'Ana Mar√≠a', 'Luis Alberto'],
                        apellidos: ['Rodr√≠guez Mendoza', 'Garc√≠a L√≥pez', 'Mart√≠nez P√©rez', 'S√°nchez Torres', 'Fern√°ndez D√≠az'],
                        telefonos: ['987654321', '912345678', '998877665', '955443322', '966778899']
                    };
                    
                    const randomIndex = Math.floor(Math.random() * datosSimulados.nombres.length);
                    
                    document.getElementById('nombres').value = datosSimulados.nombres[randomIndex];
                    document.getElementById('apellidos').value = datosSimulados.apellidos[randomIndex];
                    document.getElementById('numeroContacto').value = datosSimulados.telefonos[randomIndex];
                    
                    showNotification('Datos del agricultor encontrados', 'success');
                    codigoInput.classList.add('valid');
                } else {
                    showNotification('C√≥digo de agricultor no encontrado', 'error');
                    showFieldError(codigoInput, 'C√≥digo no encontrado en la base de datos');
                }
                
            } catch (error) {
                showNotification('Error al buscar el c√≥digo. Intenta nuevamente.', 'error');
            } finally {
                setBuscarLoading(false);
            }
        }

        // Simular b√∫squeda de c√≥digo
        function simulateBuscarCodigo(codigo) {
            return new Promise((resolve) => {
                setTimeout(resolve, 1500);
            });
        }

        // Configurar estado de loading del bot√≥n buscar
        function setBuscarLoading(loading) {
            isBuscarLoading = loading;
            const btn = document.getElementById('buscarBtn');
            const btnText = btn.querySelector('.btn-text');
            const btnLoader = btn.querySelector('.btn-loader');
            
            btn.disabled = loading;
            btnText.style.display = loading ? 'none' : 'block';
            btnLoader.style.display = loading ? 'block' : 'none';
            
            if (loading) {
                btn.classList.add('loading');
            } else {
                btn.classList.remove('loading');
            }
        }

        // Validar campo individual
        function validateField(field) {
            const value = field.value.trim();
            const fieldName = field.name;
            let isValid = true;
            let errorMessage = '';

            // Validaciones espec√≠ficas
            switch(fieldName) {
                case 'nombres':
                    if (!value) {
                        errorMessage = 'Los nombres son requeridos';
                        isValid = false;
                    } else if (value.length < 2) {
                        errorMessage = 'Los nombres deben tener al menos 2 caracteres';
                        isValid = false;
                    }
                    break;

                case 'apellidos':
                    if (!value) {
                        errorMessage = 'Los apellidos son requeridos';
                        isValid = false;
                    } else if (value.length < 2) {
                        errorMessage = 'Los apellidos deben tener al menos 2 caracteres';
                        isValid = false;
                    }
                    break;

                case 'codigoAgricultor':
                    if (!value) {
                        errorMessage = 'El c√≥digo de agricultor es requerido';
                        isValid = false;
                    } else if (value.length < 6) {
                        errorMessage = 'El c√≥digo debe tener al menos 6 caracteres';
                        isValid = false;
                    }
                    break;

                case 'numeroContacto':
                    if (!value) {
                        errorMessage = 'El n√∫mero de contacto es requerido';
                        isValid = false;
                    } else if (value.length !== 9) {
                        errorMessage = 'El tel√©fono debe tener 9 d√≠gitos';
                        isValid = false;
                    }
                    break;

                default:
                    if (field.hasAttribute('required') && !value) {
                        errorMessage = 'Este campo es requerido';
                        isValid = false;
                    }
            }

            showFieldError(field, errorMessage);
            return isValid;
        }

        // Mostrar error en campo
        function showFieldError(field, message) {
            const errorElement = document.getElementById(field.name + 'Error');
            if (errorElement) {
                errorElement.textContent = message;
                errorElement.style.display = message ? 'block' : 'none';
            }
            
            field.classList.toggle('error', !!message);
            field.classList.toggle('valid', !message && field.value.trim());
        }

        // Limpiar error
        function clearError(field) {
            const errorElement = document.getElementById(field.name + 'Error');
            if (errorElement) {
                errorElement.style.display = 'none';
            }
            field.classList.remove('error');
        }

        // Manejar env√≠o del formulario
        async function handleSubmit(e) {
            e.preventDefault();
            
            if (isSubmitting) return;
            
            // Validar todos los campos
            const form = e.target;
            const formElements = form.querySelectorAll('input, select');
            let isFormValid = true;
            
            formElements.forEach(field => {
                if (!validateField(field)) {
                    isFormValid = false;
                }
            });

            if (!isFormValid) {
                showNotification('Por favor corrige los errores en el formulario', 'error');
                return;
            }

            // Mostrar loading
            setSubmitLoading(true);
            
            try {
                // Simular env√≠o a servidor
                await simulateSubmit(new FormData(form));
                
                // Mostrar modal de √©xito
                showSuccessModal();
                
            } catch (error) {
                showNotification('Error al registrar. Intenta nuevamente.', 'error');
            } finally {
                setSubmitLoading(false);
            }
        }

        // Simular env√≠o al servidor
        function simulateSubmit(formData) {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    // 90% de probabilidad de √©xito
                    if (Math.random() > 0.1) {
                        resolve();
                    } else {
                        reject(new Error('Error de servidor'));
                    }
                }, 2000);
            });
        }

        // Configurar estado de loading del bot√≥n
        function setSubmitLoading(loading) {
            isSubmitting = loading;
            const btn = document.getElementById('submitBtn');
            const btnText = btn.querySelector('.btn-text');
            const btnLoader = btn.querySelector('.btn-loader');
            
            btn.disabled = loading;
            btnText.style.display = loading ? 'none' : 'block';
            btnLoader.style.display = loading ? 'block' : 'none';
            
            if (loading) {
                btn.classList.add('loading');
            } else {
                btn.classList.remove('loading');
            }
        }

        // Mostrar modal de √©xito
        function showSuccessModal() {
            document.getElementById('successModal').classList.add('show');
        }

        // Cerrar modal de √©xito
        function closeSuccessModal() {
            document.getElementById('successModal').classList.remove('show');
            // Redirigir a la siguiente p√°gina
            setTimeout(() => {
                window.location.href = 'dashboard-agricultor.html';
            }, 300);
        }

        // Mostrar notificaciones
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => notification.classList.add('show'), 100);
            
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => document.body.removeChild(notification), 300);
            }, 3000);
        }

        // Animar elementos
        function animateElements() {
            const elements = document.querySelectorAll('.input-group, .section-group, .submit-btn');
            elements.forEach((element, index) => {
                element.style.animationDelay = `${index * 0.1}s`;
                element.classList.add('fade-in');
            });
        }
    </script>
</body>
</html>